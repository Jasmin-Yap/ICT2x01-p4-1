# 2x01-P4-1-WebPortal
| ID    | Name          | Role          |
| ------------- | ------------- | ------------- |
| 2002124  | ANG WEI JIE  | Team Leader, Backend Dev  |
| 2001571  | JASMIN YAP YI  | Technical Lead, Full Stack Dev  |
| 2001364  | THUR YOU FU  | Full Stack Dev  |
| 2000860  | MUHAMMAD NUR AFNAN BIN ABDUL RAHIM  | Backend Dev, Robotic Car Dev |
| 2001615  | ARIEF IRFAN BIN ZULFA  | Frontend Dev  |
## Installing Dependencies
This project runs on python Flask. For ease of installation, all required packages are listed in [requirements.txt](https://github.com/Jasmin-Yap/ICT2x01-p4-1/blob/dev/requirements.txt).

To install the packages, pip is used. If you do not have pip, please install it before continuing, you can find how to install pip [here](https://www.geeksforgeeks.org/how-to-install-pip-on-windows/).

Use the command below to install the packages:
```
pip install -r requirements.txt
```
## How to run
1. Navigate to the Web-Portal directory in your choise of console (i.e. command prompt, powershell, etc)
2. Enter the commands below to run the flask program:
```
set FLASK_APP=server.py
flask run
```
## Development Workflow
### Feature Branches
1. Create a new branch based on dev. Naming Convention: feature/\<feature name\>
2. Develop on feature branch
3. When ready to merge with dev, pull from dev to get the latest updates and resolve any conflicts
4. After updating branch, open a pull request and request review from Technical Lead. 
     - If the request originates from Jasmin, request review from any other team member.
4. Reviewer to check if:
     1. Code is logical
     2. Program can be run without errors
     3. New changes do not "break" other features
6. If changes requested:
     1. Make changes according to review comments, clarify if unsure.
     2. Test
     3. Push code to remote branch
     4. Inform reviewer that changes have been completed
7. If pull request is approved, Technical Lead will merge pull request to dev branch.
8. All team members to update their respective branches to match dev

### Integration Branch
***Only one integration branch can be created.***
- Workflow generally follows "New Feature" workflow with the exception of the naming convention.
- Integration branch works across modules and handles the integration of features.

### Dev Branch
***Only one dev branch can be created***
- Holds the most updated code without breaking other featues.

### Main Branch (Master)
***Only one main branch can be created***
- Only merge pull requests from dev branch
- feature and integration brnaches cannot merge with main

## "User Acceptance Testing"
### Blackbox Testing Video
Please find the video of blackbox test execution here &#8594; https://youtu.be/wo8pbCe2cAM

## Whitebox Testing: Token Controller
### Why Token Controller?
Token Controller generates and verifies the token needed to access the internal pages of the web portal.

When the connection to the Robotic Car is established, a token is generated by the Token Controller before directing the user to the dashboard page. Navigating to any page (excluding the connection page), will trigger a check to see if the token exists. If it does not exist, the user will be redirected back to the connection page. If it does exist, the user will be directed to the page they navigated to.

The token is also used to verify responses (acknowledgments) and data sent from the Robotic Car.

### How is the test executed?
The test is done in two parts. The first is automated using unittest and tests the function calls of the Token Controller. The second part is done manually by verifying the redirect on the web portal when navigating using URL paths.

### unittest
The file used for the test can be found here &#8594; https://github.com/Jasmin-Yap/ICT2x01-p4-1/blob/main/Web-Portal/token_test.py

Execution of automated whitebox testing:
![code coverage](https://github.com/Jasmin-Yap/ICT2x01-p4-1/blob/main/resources/unittest.jpg)

A Code coverage report was generated for the automated part of the test:
![code coverage](https://github.com/Jasmin-Yap/ICT2x01-p4-1/blob/main/resources/coverage-report.jpg)

### Files Involved
#### Unittest
1. https://github.com/Jasmin-Yap/ICT2x01-p4-1/blob/main/Web-Portal/token_test.py
2. https://github.com/Jasmin-Yap/ICT2x01-p4-1/blob/main/Web-Portal/models/token.py
3. https://github.com/Jasmin-Yap/ICT2x01-p4-1/blob/main/Web-Portal/controllers/token_controller.py
#### Manual
1. https://github.com/Jasmin-Yap/ICT2x01-p4-1/blob/main/Web-Portal/controllers/dashboard_controller.py &#8594; Lines 32-33 and 45-46
2. https://github.com/Jasmin-Yap/ICT2x01-p4-1/blob/main/Web-Portal/controllers/maze_controller.py &#8594; Lines 77-78
3. https://github.com/Jasmin-Yap/ICT2x01-p4-1/blob/main/Web-Portal/controllers/scoreboard_controller.py &#8594; Lines 80-81

### Whitebox Testing Execution
Please find the video of whitebox test execution here &#8594; https://youtu.be/bYw37OdO3Rs
